<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/black.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section >
          <h6>Component patterns</h6>
          <div>Headless components</div>
          🤯
          <aside class="notes">kek</aside>
        </section>
        <section>
          <section data-markdown>
            <h1>kek</h1>
            <textarea data-template>
            ## Naive method
            ```jsx 
            function Example() { 

              const [parentEmotion, setEmotion] = useState('happy') 

              return ( <Child emotion={parentEmotion} /> ); } 
            ```
          </textarea
            >
          </section>
          <section data-markdown="">
            <textarea data-template>
            ## Child component 
            ```jsx 
            const Child = ({ emotion }) => (
              <span>
                {emotion === "happy" ? " 💆🏻️" : "🙍🏻️"}
                </span>
            ); ```
            </textarea>
          </section>
          <section>
            <div id="react-component-2"></div>
          </section>
          <section>
            <h4>Problems:</h4>
            <ul>
              <li>Props pollution</li>
            </ul>
          </section>
        </section>
        <section >
          <!-- <section data-markdown>
            <textarea data-template>

## Render prop method
##### Parent
```jsx
function Parent(render) {
  const [parentEmotion, setEmotion] = useState('happy');
  return render({ emotion });
}
```

              </textarea
            >
          </section> -->
          <section data-markdown>
            <textarea data-template>

## Render prop method
##### Parent
```jsx
function Parent({ renderWithState }) {

  const [parentEmotion, setEmotion] = useState('happy');

  return renderWithState(parentEmotion);

}
```

              </textarea
            >
          </section>
          <section>
            Where does that pattern come from?
            <p>
              Lest take a look on <em>Input</em> element that is with us for a while</code>
            </p>
            <aside class="notes">
              I think this pattern might come from the roots of web development More precisely from
              html.
            </aside>
          </section>
          <section data-markdown="">

            <textarea data-template>
              ## Input element written in React way
```jsx
                🙀🙀🙀

<input onChange={(event)=>console.log(event)} />

                🙀🙀🙀

```
              </textarea>
              <aside class="notes">
                 React props are just wrappers over native html attributes and work same as corresponding attributes in most cases
                </aside>  
          </section>
          <section data-markdown>
            <textarea data-template>
```jsx
function Example() {
  return (
    <Parent
      renderWithState={(emotion) => (
        <>
          <Child emotion={emotion} />
          <Child emotion={!emotion} />
          <Child emotion={emotion} />
        </>
      )}
    />
  );
}

```
</textarea>
          </section>
          <!-- <p class="fragment">Fade in</p>
            <p class="fragment fade-out">Fade out</p>
            <p class="fragment highlight-red">Highlight red</p>
            <p class="fragment fade-in-then-out">Fade in, then out</p>
            <p class="fragment fade-up">Slide up while fading in</p> -->

          <section>
            <div id="react-component-1"></div>
          </section>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>

    <!-- import the react libraray -->
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin defer></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
      defer
      crossorigin
    ></script>

    <!-- load AMD runtime to support transpiled modules -->
    <script src="https://unpkg.com/@babel/standalone@7.4.4/babel.js"></script>

    <!-- setup react root component other components -->
    <script type="text/babel">
      const { useState } = React;

      class RootComponent extends React.Component {
        render() {
          return <Guy />;
        }
      }
      const EmotionalState = ({ render }) => {
        const [emotion, setEmotion] = useState('sad');

        return (
          <div className="absolute bg-white w-full flex flex-col text-center">
            <div className="flex mx-auto justify-center gap-5 w-40">
              <button type="button" onClick={() => setEmotion('happy')}>
                😃
              </button>
              <button type="button" onClick={() => setEmotion('sad')}>
                😭
              </button>
            </div>
            <div className="w-full">
              <span className="text-9xl">🏦</span>
            </div>
            {render(emotion)}
          </div>
        );
      };
      const Child = ({ emotion }) => (
        <span className="text-9xl">{emotion === 'happy' ? ' 💆🏻️' : '🙍🏻️'}</span>
      );
      function Parent({ renderWithState }) {
        const [parentEmotion, setEmotion] = useState('happy');
        return renderWithState(parentEmotion);
      }
      function Example() {
        return (
          <Parent
            renderWithState={(emotion) => (
              <>
                <Child emotion={emotion} />
                <Child emotion={!emotion} />
                <Child emotion={emotion} />
              </>
            )}
          />
        );
      }
      const Guy = () => <EmotionalState render={(emotion) => <div>{emotion}</div>} />;

      const ParentChild = () => {
        const [parentEmotion, setParentEmotion] = useState('happy');

        return (
          <div>
            <Child emotion={parentEmotion} />
            <button
              onClick={() =>
                setParentEmotion((prevEmotion) => (prevEmotion == 'happy' ? 'sad' : 'happy'))
              }
            >
              toggle emotion
            </button>
          </div>
        );
      };

      const domContainer1 = document.querySelector('#react-component-1');
      const domContainer2 = document.querySelector('#react-component-2');
      ReactDOM.render(React.createElement(Example), domContainer1);
      ReactDOM.render(React.createElement(ParentChild), domContainer2);
    </script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        // Learn about plugins: https://revealjs.com/plugins/
        // highlight: {
        //   beforeHighlight: (hljs) => hljs.registerLanguage("javascriptreact"),
        // },
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
